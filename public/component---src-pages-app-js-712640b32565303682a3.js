(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{BW8L:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n);t.a=function(e){var t=e.isValid,a=void 0!==t&&t,n=e.successMessage,c=void 0===n?"":n,l=e.errorMessage,o=void 0===l?"":l;return r.a.createElement("li",{className:"flex items-center py-1"},r.a.createElement("div",{className:"rounded-full p-1 fill-current "+(a?"bg-green-200 text-green-700":"bg-red-200 text-red-700")},r.a.createElement("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"}),r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}))),r.a.createElement("span",{className:"font-medium text-sm ml-3 "+(a?"text-green-700":"text-red-700")},a?c:o))}},N1vd:function(e,t,a){},r0Us:function(e,t,a){"use strict";a("f3/d");var n=a("q1tI"),r=a.n(n);t.a=function(e){var t=e.field,a=e.name,n=e.value,c=e.type,l=e.onChange,o=e.placeholder,s=void 0===o?"":o;return r.a.createElement("div",{className:"py-1"},r.a.createElement("span",{className:"px-1 text-sm text-gray-600"},t),r.a.createElement("input",{name:a,onChange:l,value:n,placeholder:s,type:c,className:"text-md block px-3 py-2 rounded-lg w-full bg-white border-2 border-gray-300 placeholder-gray-600 shadow-md focus:placeholder-gray-500 focus:bg-white focus:border-gray-600 focus:outline-none"}))}},y9VM:function(e,t,a){"use strict";a.r(t);a("VRzm"),a("Btvt");var n=a("o0o1"),r=a.n(n),c=(a("ls82"),a("q1tI")),l=a.n(c),o=a("YwZP"),s=a("Wbzz"),i=a("leoJ"),m=a("Zttt"),u=function(){var e=Object(i.b)();return l.a.createElement("pre",null,JSON.stringify(e,null,2))},d=(a("91GP"),a("6QdR")),h=a("r0Us");a("f3/d");function f(e){var t=e.scene;return l.a.createElement("div",{className:"max-w-sm rounded overflow-hidden shadow-lg"},l.a.createElement("img",{className:"w-full",src:"https://source.unsplash.com/random/384x234",alt:"Sunset in the mountains"}),l.a.createElement("div",{className:"px-6 py-4"},l.a.createElement("div",{className:"font-bold text-xl mb-2"},l.a.createElement(s.a,{className:"hover:underline",to:"/app/scene/"+t.id},t.name))))}var v,p=function(){var e=Object(i.b)(),t=d.a.firestore(),a=Object(c.useState)(""),n=a[0],r=a[1],o=Object(c.useState)([]),s=o[0],m=o[1];Object(c.useEffect)((function(){e.isAuthReady&&t.collection("scenes").doc(e.uid).collection("scenes").onSnapshot((function(e){var t=[];e.forEach((function(e){var a=e.data(),n=e.id;t.push(Object.assign({id:n},a))})),m(t)}))}),[t,e]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"mx-auto max-w-lg mb-12"},l.a.createElement(h.a,{field:"Scene Name",name:"scene",onChange:function(e){return r(e.target.value)},value:n,type:"text"}),l.a.createElement("button",{type:"button",onClick:function(){t.collection("scenes").doc(e.uid).collection("scenes").doc().set({name:n}),r("")},className:"mt-3 text-lg font-semibold bg-gray-800 w-full text-white rounded-lg px-6 py-3 block shadow-xl hover:text-white hover:bg-black"},"Create Scene")),l.a.createElement("div",{className:"grid grid-cols-3"},s.map((function(e){return l.a.createElement(f,{key:e.id,scene:e})}))))};a("rGqo"),a("yt8O"),a("RW0V"),a("N1vd");function g(e){var t=e.name,a=e.value,n=e.checked,r=e.onChange,c=e.children;return l.a.createElement("label",{className:"custom-label flex"},l.a.createElement("div",{className:"bg-white shadow w-6 h-6 p-1 flex justify-center items-center mr-2"},l.a.createElement("input",{name:t,type:"checkbox",value:a,className:"hidden",checked:n,onChange:r}),l.a.createElement("svg",{className:"hidden w-4 h-4 text-green-600 pointer-events-none",viewBox:"0 0 172 172"},l.a.createElement("g",{fill:"none",strokeWidth:"none",strokeMiterlimit:"10",fontFamily:"none",fontWeight:"none",fontSize:"none",textAnchor:"none"},l.a.createElement("path",{d:"M0 172V0h172v172z"}),l.a.createElement("path",{d:"M145.433 37.933L64.5 118.8658 33.7337 88.0996l-10.134 10.1341L64.5 139.1341l91.067-91.067z",fill:"currentColor",strokeWidth:"1"})))),l.a.createElement("span",{className:"select-none"},c))}var b={chromakey:{key:"chromakey",label:"Add chromakey"},image:{key:"image",label:"Add image"}},w=Object.keys(b),E=((v={})[b.chromakey.key]=function(e){var t=e.id,a=(e.frame,e.uid),n=e.sceneId,r=d.a.firestore(),o=Object(c.useState)({color:"green",showMarkers:!1}),s=o[0],i=o[1],m=function(e){var t,a=e.target,n=a.name,r=a.value,c=a.checked,l="checkbox"===a.type?c:r;i(Object.assign(Object.assign({},s),{},((t={})[n]=l,t)))};return l.a.createElement("div",{className:"border-solid border-gray-200 border-2 m-8 p-8"},l.a.createElement("h1",{className:"font-bold"},"ChromaKey"),l.a.createElement("div",{className:"w-full"},l.a.createElement("div",{className:"my-2 bg-white p-1 flex border border-gray-200 rounded"},l.a.createElement("select",{name:"color",value:s.color,onChange:m,onBlur:m,className:"p-1 px-2 appearance-none outline-none w-full text-gray-800"},["Red","Green","Blue"].map((function(e){return l.a.createElement("option",{key:e.toLowerCase(),value:e.toLowerCase()},e)}))))),l.a.createElement(g,{name:"showMarkers",type:"checkbox",value:s.showMarkers,checked:s.showMarkers,onChange:m},"Show tracking markers"),l.a.createElement("button",{type:"button",onClick:function(){r.collection("frames").doc(a).collection(n).doc(t).update({settings:s})},className:"mt-3 text-lg font-semibold bg-gray-800 w-full text-white rounded-lg px-6 py-3 block shadow-xl hover:text-white hover:bg-black"},"Save"))},v[b.image.key]=function(e){var t=e.id,a=(e.frame,e.uid),n=e.sceneId,r=d.a.firestore(),o=Object(c.useState)({color:"green",showMarkers:!1}),s=o[0],i=o[1],m=function(e){var t,a=e.target,n=a.name,r=a.value,c=a.checked,l="checkbox"===a.type?c:r;i(Object.assign(Object.assign({},s),{},((t={})[n]=l,t)))};return l.a.createElement("div",{className:"border-solid border-gray-200 border-2 m-8 p-8"},l.a.createElement("h1",{className:"font-bold"},"Image"),l.a.createElement("select",{name:"color",value:s.color,onChange:m,onBlur:m},["Red","Green","Blue"].map((function(e){return l.a.createElement("option",{key:e.toLowerCase(),value:e.toLowerCase()},e)}))),l.a.createElement("label",null,l.a.createElement("input",{name:"showMarkers",type:"checkbox",value:s.showMarkers,checked:s.showMarkers,onChange:m}),"Show tracking markers"),l.a.createElement("button",{type:"button",onClick:function(){r.collection("frames").doc(a).collection(n).doc(t).update({settings:s})},className:"mt-3 text-lg font-semibold bg-gray-800 w-full text-white rounded-lg px-6 py-3 block shadow-xl hover:text-white hover:bg-black"},"Save"))},v);function x(e){var t=e.sceneId,a=Object(i.b)(),n=Object(c.useState)({}),r=n[0],o=n[1],s=Object(c.useState)([]),m=s[0],u=s[1],h=d.a.firestore();Object(c.useEffect)((function(){a.isAuthReady&&(h.collection("scenes").doc(a.uid).collection("scenes").doc(t).onSnapshot((function(e){var t=e.data(),a=e.id;o(Object.assign({id:a},t))})),h.collection("frames").doc(a.uid).collection(t).onSnapshot((function(e){var t=[];e.forEach((function(e){var a=e.data(),n=e.id;t.push(Object.assign({id:n},a))})),u(t)})))}),[h,a,t]);return l.a.createElement("div",null,l.a.createElement("h1",null,r.name),l.a.createElement("div",{className:"grid grid-cols-3 gap-4"},w.map((function(e){return l.a.createElement("div",{key:e,className:"text-center p-4 bg-white hover:bg-gray-100 h-32 w-32 shadow-md rounded flex items-end"},l.a.createElement("button",{onClick:function(){return n=b[e].key,void h.collection("frames").doc(a.uid).collection(t).doc().set({type:n});var n}},l.a.createElement("span",null,b[e].label)))}))),m.map((function(e){var n=E[e.type];return l.a.createElement(n,{key:e.id,id:e.id,frame:e,uid:a.uid,sceneId:t})})))}var y=a("BW8L");function k(e){var t=e.type,a=e.message;return"success"===t?l.a.createElement("div",{className:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md",role:"alert"},l.a.createElement("div",{className:"flex"},l.a.createElement("div",{className:"py-1"},l.a.createElement("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},l.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),l.a.createElement("div",null,l.a.createElement("p",{className:"font-bold"},a)))):null}function N(e,t,a,n,r,c,l){try{var o=e[c](l),s=o.value}catch(i){return void a(i)}o.done?t(s):Promise.resolve(s).then(n,r)}var C=function(){var e=Object(i.b)(),t=Object(c.useState)(!1),a=t[0],n=t[1],o=Object(c.useState)({message:""}),s=o[0],m=o[1],u=Object(c.useState)({currentPassword:"",newPassword:"",passwordConfirm:""}),f=u[0],v=u[1],p=function(){var t,a=(t=r.a.mark((function t(a){var c,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),c=d.a.auth().currentUser,l=d.a.auth.EmailAuthProvider.credential(e.email,f.currentPassword),t.next=5,c.reauthenticateWithCredential(l).catch((function(e){var t=e.code,a=e.message;return m({code:t,message:a})}));case 5:return t.next=7,c.updatePassword(f.newPassword).then((function(){return n(!0)})).catch((function(e){var t=e.code,a=e.message;return m({code:t,message:a})}));case 7:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(n,r){var c=t.apply(e,a);function l(e){N(c,n,r,l,o,"next",e)}function o(e){N(c,n,r,l,o,"throw",e)}l(void 0)}))});return function(e){return a.apply(this,arguments)}}(),g=function(e){var t,a=e.target,n=a.name,r=a.value;v(Object.assign(Object.assign({},f),{},((t={})[n]=r,t)))},b=f.currentPassword,w=f.newPassword,E=f.passwordConfirm;return l.a.createElement("div",{className:"container max-w-full mx-auto md:py-24 px-6"},l.a.createElement("div",{className:"max-w-sm mx-auto px-6"},l.a.createElement("div",{className:"relative flex flex-wrap"},l.a.createElement("div",{className:"w-full relative"},l.a.createElement("div",{className:"md:mt-6"},a&&l.a.createElement(k,{type:"success",message:"Password changed."}),!a&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-center font-semibold text-black"},"Change Password"),l.a.createElement("form",{className:"mt-8"},l.a.createElement("div",{className:"mx-auto max-w-lg"},l.a.createElement(h.a,{field:"Current Password",name:"currentPassword",onChange:g,value:b,type:"password"}),l.a.createElement(h.a,{field:"New Password",name:"newPassword",onChange:g,value:w,type:"password"}),l.a.createElement(h.a,{field:"Confirm Password",name:"passwordConfirm",onChange:g,value:E,type:"password"}),l.a.createElement("div",{className:"flex justify-start mt-3 ml-4 p-1"},l.a.createElement("ul",null,l.a.createElement(y.a,{isValid:w===E&&w.length>0,successMessage:"Passwords match",errorMessage:"Passwords do not match"}),l.a.createElement(y.a,{isValid:w.length>7,successMessage:"The minimum length is reached",errorMessage:"At least 8 characters required"}),s.message&&l.a.createElement(y.a,{errorMessage:s.message}))),l.a.createElement("button",{type:"submit",onClick:p,className:"mt-3 text-lg font-semibold bg-gray-800 w-full text-white rounded-lg px-6 py-3 block shadow-xl hover:text-white hover:bg-black"},"Change Password")))))))))};function j(){var e=Object(i.b)(),t=d.a.firestore(),a=Object(c.useState)(""),n=a[0],r=a[1];return l.a.createElement("div",{className:"mx-auto max-w-lg mb-12"},l.a.createElement(h.a,{field:"Device Id",name:"deviceId",onChange:function(e){return r(e.target.value)},value:n,type:"text"}),l.a.createElement("button",{type:"button",onClick:function(){t.collection("scenes").doc(e.uid).collection("scenes").doc().set({device:n}),r("")},className:"mt-3 text-lg font-semibold bg-gray-800 w-full text-white rounded-lg px-6 py-3 block shadow-xl hover:text-white hover:bg-black"},"Create Device"))}function O(e,t,a,n,r,c,l){try{var o=e[c](l),s=o.value}catch(i){return void a(i)}o.done?t(s):Promise.resolve(s).then(n,r)}var P=function(){var e=Object(i.b)(),t=Object(c.useState)(!1),a=t[0],n=t[1];Object(c.useEffect)((function(){e.isAuthReady&&!e.isAuth&&Object(s.b)("/sign-in")}),[e]);var o=function(){var t,a=(t=r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.resendEmailVerification();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),n(!0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})),function(){var e=this,a=arguments;return new Promise((function(n,r){var c=t.apply(e,a);function l(e){O(c,n,r,l,o,"next",e)}function o(e){O(c,n,r,l,o,"throw",e)}l(void 0)}))});return function(){return a.apply(this,arguments)}}();return e.emailVerified?null:l.a.createElement("div",{className:"bg-orange-200 p-4"},l.a.createElement("p",{className:"container mx-auto text-center"},"Please, confirm your email address (",e.email,"). ",l.a.createElement("br",null),l.a.createElement("button",{onClick:o},"Click here to resend email confirmation. ",l.a.createElement("br",null)),a?l.a.createElement("span",null,"Error, try again in few minutes."):l.a.createElement("span",null,"Verification e-mail sent. Please, check your inbox and follow the instructions.")))};t.default=function(){return l.a.createElement(m.a,{app:!0},l.a.createElement(P,null),l.a.createElement("div",{className:"container mx-auto mt-12"},l.a.createElement(o.Router,{basepath:"/app"},l.a.createElement(p,{path:"/"}),l.a.createElement(x,{path:"/scene/:sceneId"}),l.a.createElement(u,{path:"/create-scenes"}),l.a.createElement(C,{path:"/update-password"}),l.a.createElement(j,{path:"/devices"}))))}}}]);
//# sourceMappingURL=component---src-pages-app-js-712640b32565303682a3.js.map